# íƒ€ì… í™•ì¥í•˜ê¸° ë° ì¢íˆê¸°

## 1. íƒ€ì… í™•ì¥í•˜ê¸°

### íƒ€ì… í™•ì¥ì˜ ì¥ì 

- ì½”ë“œ ì¤‘ë³µì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤!
- ì–´ëŠ íƒ€ì…ì—ì„œ í™•ì¥ëœì§€ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆë‹¤!
- ì¶”ê°€ì ì¸ í™•ì¥ì´ ê³„ì†í•˜ì—¬ ê°€ëŠ¥í•˜ë‹¤!

```ts
// ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤
interface User {
  id: number;
  name: string;
}

// í™•ì¥ ì¸í„°í˜ì´ìŠ¤
interface Admin extends User {
  role: "admin";
}

// ì‚¬ìš© ì˜ˆì‹œ
const user: User = { id: 1, name: "Alice" };
const admin: Admin = { id: 2, name: "Bob", role: "admin" };

// ì¶”ê°€ í™•ì¥ë„ ê°€ëŠ¥
interface SuperAdmin extends Admin {
  permissions: string[];
}

const superAdmin: SuperAdmin = {
  id: 3,
  name: "Charlie",
  role: "admin",
  permissions: ["manage-users", "delete-posts"],
};
```

### ìœ ë‹ˆì˜¨ íƒ€ì…

ìœ ë‹ˆì˜¨ íƒ€ì…ì€ ë‘ ê°€ì§€ ì´ìƒì˜ íƒ€ì…ì„ ì¡°í•©í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

```ts
interface User {
  name: string;
  age: number;
}

interface Admin {
  name: string;
  department: "Develop" | "QA";
}

// ğŸ‘‡ ë‘ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìœ ë‹ˆì˜¨ìœ¼ë¡œ ë°›ìŒ
const printInfo = (obj: User | Admin) => {
  console.log(obj.name); // âœ… ê³µí†µ ì†ì„±(name)ì€ ì ‘ê·¼ ê°€ëŠ¥

  // âŒ ê³µí†µë˜ì§€ ì•Šì€ ì†ì„±ì€ íƒ€ì… ì¢íˆê¸° ì—†ì´ ì ‘ê·¼ ë¶ˆê°€
  // console.log(obj.age);        // ì˜¤ë¥˜: 'Admin' íƒ€ì…ì—ëŠ” 'age'ê°€ ì—†ìŒ
  // console.log(obj.department); // ì˜¤ë¥˜: 'User' íƒ€ì…ì—ëŠ” 'department'ê°€ ì—†ìŒ

  // âœ… íƒ€ì… ì¢íˆê¸°ë¥¼ í†µí•´ ì ‘ê·¼ ê°€ëŠ¥
  if ("age" in obj) {
    console.log(`Userì˜ ë‚˜ì´: ${obj.age}`);
  } else {
    console.log(`Adminì˜ ë¶€ì„œ: ${obj.department}`);
  }
};
```

### êµì°¨ íƒ€ì…

êµì°¨íƒ€ì…ì€ ëª¨ë“  íƒ€ì…ì˜ ì†ì„±ì„ ë™ì‹œì— ê°–ëŠ” ë°©ë²•

#### ê¸°ë³¸ì˜ˆì‹œ

```ts
interface User {
  name: string;
  age: number;
}

interface Admin {
  role: "admin";
  department: string;
}

// ğŸ‘‡ ë‘ íƒ€ì…ì„ ëª¨ë‘ ë§Œì¡±í•´ì•¼ í•¨
type AdminUser = User & Admin;

const adminUser: AdminUser = {
  name: "Alice",
  age: 30,
  role: "admin",
  department: "QA",
};
```

#### ì£¼ì˜ì‚¬í•­ 1. ì¶©ëŒí•˜ëŠ” íƒ€ì…

ì†ì„± ì´ë¦„ì´ ê°–ë”ë¼ë„ íƒ€ì…ì´ ë‹¤ë¥´ë‹¤ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•¨

```ts
interface A {
  value: string;
}

interface B {
  value: number;
}

type AB = A & B;

// âŒ ì—ëŸ¬: 'value' ì†ì„±ì˜ íƒ€ì…ì´ ì„œë¡œ í˜¸í™˜ë˜ì§€ ì•ŠìŒ
const obj: AB = {
  value: "Hello", // string | number ë‘˜ ë‹¤ ë§Œì¡±í•  ìˆ˜ ì—†ìŒ
};
```

#### ì£¼ì˜ì‚¬í•­ 2. ìœ ë‹ˆì˜¨ íƒ€ì…ì˜ êµì°¨

ì–‘ìª½ ëª¨ë‘ì— ì¡´ì¬í•˜ëŠ” êµì°¨ íƒ€ì…ë§Œ ë‚¨ê¸´ë‹¤.

```ts
type A = string | number;
type B = number | boolean;

type C = A & B; // êµì°¨ íƒ€ì…

// string | number
//      &
// number | boolean
// ---------------
// ê²°ê³¼: number
```

#### extendsì™€ êµì°¨íƒ€ì…ì˜ ì°¨ì´

```ts
interface A {
  value: string;
}

// extends
interface B extends A {
  value: number; // âŒ íƒ€ì… ë‹¤ë¥´ë©´ ì—ëŸ¬
  //value: string;      // âœ… ë™ì¼ íƒ€ì…ì´ë©´ OK
}

// êµì°¨
type C = A & { value: number }; // string & number â†’ never
```

ê°™ì€ ì†ì„±ì„ ê°€ì§„ ë‘ íƒ€ì…ì„ ê°ê° ìƒì†ê³¼ êµì°¨ë¥¼ ì§„í–‰í•œ ì˜ˆì‹œì´ë‹¤.  
B ê²½ìš°ë¥¼ ë³´ë©´ ìƒì†ë°›ì€ BëŠ” íƒ€ì…ì´ ë‹¬ë¼ì„œ ì—ëŸ¬ë¥¼ ì¼ìœ¼í‚¨ë‹¤.  
C ê²½ìš°ì²˜ëŸ¼ ê°™ì€ì´ë¦„ì— ë‹¤ë¥¸ íƒ€ì…ì„ êµì°¨í•˜ë©´ ì—ëŸ¬ëŠ” ë°œìƒì‹œí‚¤ì§€ ì•Šì§€ë§Œ í•´ë‹¹í•˜ëŠ” íƒ€ì…ì´ neverë¡œ í‰ê°€ëœë‹¤.

## 2. íƒ€ì… ì¢íˆê¸° - íƒ€ì… ê°€ë“œ

### íƒ€ì… ê°€ë“œì— ë”°ë¼ ë¶„ê¸° ì²˜ë¦¬í•˜ê¸°

íƒ€ì… ê°€ë“œëŠ” ëŸ°íƒ€ì„ì— ì¡°ê±´ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ íƒ€ì…ì„ ê²€ì‚¬í•˜ê³  íƒ€ì… ë²”ìœ„ë¥¼ ì¢í˜€ì£¼ëŠ” ë°©ë²•ì´ë‹¤.

### ì›ì‹œ íƒ€ì…ì„ ì¶”ë¡ í•´ì•¼ í•  ë•Œ : typeof ì—°ì‚°ì í™œìš©

typeof ì—°ì‚°ìë¥¼ í™œìš©í•˜ë©´ ì›ì‹œíƒ€ì…ì— ëŒ€í•´ ì¶”ë¡ í•  ìˆ˜ ìˆë‹¤.  
ë‹¤ìŒì€ typeof ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ ê²€ì‚¬í•  ìˆ˜ ìˆëŠ” íƒ€ì…ë“¤ì´ë‹¤.

- string
- number
- boolean
- undefined
- object
- function
- bigint
- symbol

```ts
function printValue(value: string | number) {
  if (typeof value === "string") {
    // âœ… ì—¬ê¸°ì„œëŠ” string íƒ€ì…ìœ¼ë¡œ ì¢í˜€ì§
    console.log(value.toUpperCase()); // ê²°ê³¼: "HELLO"
  } else {
    // âœ… ì—¬ê¸°ì„œëŠ” number íƒ€ì…ìœ¼ë¡œ ì¢í˜€ì§
    console.log(value.toFixed(2)); // ê²°ê³¼: "3.14"
  }
}

printValue("hello"); // ì¶œë ¥ â†’ "HELLO"
printValue(3.1415); // ì¶œë ¥ â†’ "3.14"
```

### ì¸ìŠ¤í„´ìŠ¤í™”ëœ ê°ì²´ íƒ€ì…ì„ íŒë³„í•  ë•Œ : instanceof ì—°ì‚°ì í™œìš©

```ts
function ErrorMessage({ error }: { error: unknown }) {
  if (error instanceof Error) {
    // âœ… Error íƒ€ì…ìœ¼ë¡œ ì¢í˜€ì§
    return <p>ì—ëŸ¬ ë°œìƒ: {error.message}</p>; // ì˜ˆ: "ì—ëŸ¬ ë°œìƒ: Network error"
  }

  return <p>ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬</p>;
}
```

#### ìì£¼ ì“°ì´ëŠ” instanceof í™œìš© 5ê°€ì§€

#### 1. Errorê°ì²´ ê²€ì‚¬

```ts
function ErrorMessage({ error }: { error: unknown }) {
  if (error instanceof Error) {
    return <p>ì—ëŸ¬ ë°œìƒ: {error.message}</p>; // ì˜ˆ: "Network error"
  }
  return <p>ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬</p>;
}
```

#### 2. File / FormData ê²€ì‚¬ (íŒŒì¼ ì—…ë¡œë“œ)

```ts
function UploadPreview({ file }: { file: unknown }) {
  if (file instanceof File) {
    return <p>íŒŒì¼ëª…: {file.name}</p>;
  } else if (file instanceof FormData) {
    return <p>FormData ê°ì²´ì…ë‹ˆë‹¤.</p>;
  }
  return <p>ìœ íš¨í•˜ì§€ ì•Šì€ ì—…ë¡œë“œ ë°ì´í„°</p>;
}
```

#### 3. Response ê°ì²´ ê²€ì‚¬ (API ì‘ë‹µ ì²˜ë¦¬)

```ts
async function handleResponse(res: unknown) {
  if (res instanceof Response) {
    const data = await res.json();
    console.log("ì„œë²„ ì‘ë‹µ:", data);
  } else {
    console.error("Response ê°ì²´ê°€ ì•„ë‹™ë‹ˆë‹¤.");
  }
}
```

#### 4. Date ê°ì²´ ê²€ì‚¬ (ë‚ ì§œ ìœ íš¨ì„± ê²€ì‚¬)

```ts
function printDate(value: unknown) {
  if (value instanceof Date) {
    console.log("ë‚ ì§œ:", value.toISOString());
  } else {
    console.log("ìœ íš¨í•˜ì§€ ì•Šì€ ë‚ ì§œ ê°’");
  }
}
```

#### 5. ì´ë²¤íŠ¸ ê°ì²´ ê²€ì‚¬ (ë¦¬ì•¡íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€)

```ts
function handleEvent(e: unknown) {
  if (e instanceof MouseEvent) {
    console.log("ë§ˆìš°ìŠ¤ í´ë¦­ ì¢Œí‘œ:", e.clientX, e.clientY);
  } else if (e instanceof KeyboardEvent) {
    console.log("ì…ë ¥ëœ í‚¤:", e.key);
  }
}
```

### ê°ì²´ì˜ ì†ì„±ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ í™•ì¸í•˜ëŠ” êµ¬ë¶„ : in ì—°ì‚°ì í™œìš©

inì€ ëŸ°íƒ€ì„ì—ì„œ ì•ˆì „í•˜ê²Œ ê°ì²´ íƒ€ì…ì„ êµ¬ë¶„í•˜ëŠ” ë°©ë²•  
ì¸í„°í˜ì´ìŠ¤ í˜•íƒœë¡œ ì •ì˜ëœ ê°ì²´ì—ì„œ ìì£¼ ì‚¬ìš©í•œë‹¤.

```ts
type SuccessResponse = { data: string };
type ErrorResponse = { message: string };

function RenderResult(res: SuccessResponse | ErrorResponse) {
  if ("data" in res) {
    return <p>ë°ì´í„°: {res.data}</p>;
  }
  return <p>ì—ëŸ¬: {res.message}</p>;
}
```

### is ì—°ì‚°ìë¡œ ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ ë§Œë“¤ì–´ í™œìš©

```ts
type SuccessResponse = { data: string };
type ErrorResponse = { message: string };

function isSuccess(
  res: SuccessResponse | ErrorResponse
): res is SuccessResponse {
  return "data" in res;
}

function RenderResult(res: SuccessResponse | ErrorResponse) {
  if (isSuccess(res)) {
    return <p>ë°ì´í„°: {res.data}</p>;
  }
  return <p>ì—ëŸ¬: {res.message}</p>;
}
```

## 3. íƒ€ì… ì¢íˆê¸° - ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨

íƒœê·¸ëœ ìœ ë‹ˆì˜¨(tagged union)ìœ¼ë¡œë„ ë¶ˆë¦¬ëŠ” ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨(Discriminated unions)ì€ íƒ€ì… ì¢íˆê¸°ì— ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë°©ì‹ì´ë‹¤.

1. ê°œë³„ íƒ€ì…ì— ì‹ë³„ ê°€ëŠ¥í•œ íŒë³„ìë¥¼ ë„£ëŠ”ë‹¤.
2. ìœ ë‹ˆì˜¨ìœ¼ë¡œ ê°œë³„ íƒ€ì…ì„ ë¬¶ëŠ”ë‹¤.
3. íŒë³„ìë¥¼ í™œìš©í•˜ì—¬ íƒ€ì…ì„ ì¢í˜€ ì‚¬ìš©í•œë‹¤.

```ts
// 1ï¸âƒ£ ê°œë³„ ì—ëŸ¬ íƒ€ì… ì •ì˜
interface NetworkError {
  code: 100; // ì‹ë³„ì
  message: string;
  status: number;
}

interface ValidationError {
  code: 200; // ì‹ë³„ì
  message: string;
  field: string;
}

interface AuthError {
  code: 300; // ì‹ë³„ì
  message: string;
  expired: boolean;
}

// 2ï¸âƒ£ ìœ ë‹ˆì˜¨ìœ¼ë¡œ ë¬¶ê¸°
type AppError = NetworkError | ValidationError | AuthError;

// 3ï¸âƒ£ íŒë³„ì(code)ë¥¼ ì´ìš©í•œ íƒ€ì… ì¢íˆê¸°
function handleError(error: AppError) {
  switch (error.code) {
    case 100:
      console.log(
        `ğŸŒ [NetworkError] ${error.message} (status: ${error.status})`
      );
      break;

    case 200:
      console.log(
        `âš ï¸ [ValidationError] ${error.field} í•„ë“œ ì˜¤ë¥˜ - ${error.message}`
      );
      break;

    case 300:
      console.log(
        error.expired
          ? `ğŸ”’ [AuthError] ì„¸ì…˜ ë§Œë£Œ`
          : `ğŸš« [AuthError] ì¸ì¦ ì‹¤íŒ¨ - ${error.message}`
      );
      break;
  }
}

// 4ï¸âƒ£ ì‚¬ìš© ì˜ˆì‹œ
handleError({ code: 100, message: "ì„œë²„ ì—°ê²° ì‹¤íŒ¨", status: 500 });
handleError({ code: 200, message: "ì´ë©”ì¼ í˜•ì‹ì´ ì˜ëª»ë¨", field: "email" });
handleError({ code: 300, message: "í† í° ë§Œë£Œ", expired: true });
```

## 4. Exhaustiveness Checkingìœ¼ë¡œ ì •í™•í•œ íƒ€ì… ë¶„ê¸° ìœ ì§€í•˜ê¸°

Exhaustiveness : ì² ì €í•¨, ì™„ì „í•¨  
ë”°ë¼ì„œ ëª¨ë“  ì¼€ì´ìŠ¤ì— ëŒ€í•´ ì² ì €í•˜ê²Œ íƒ€ì…ì„ ê²€ì‚¬í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤.

```ts
type UIState =
  | { status: "loading" }
  | { status: "success"; data: string[] }
  | { status: "error"; message: string }
  | { status: "empty" };

function DataList({ state }: { state: UIState }) {
  switch (state.status) {
    case "loading":
      return <p>â³ ë¡œë”© ì¤‘...</p>;

    case "success":
      return (
        <ul>
          {state.data.map((item, i) => (
            <li key={i}>{item}</li>
          ))}
        </ul>
      );

    case "error":
      return <p>âŒ ì—ëŸ¬: {state.message}</p>;

    case "empty":
      return <p>ğŸ“­ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>;

    default:
      // âœ… Exhaustiveness Checking
      const _exhaustiveCheck: never = state;
      console.error("ì²˜ë¦¬ë˜ì§€ ì•Šì€ ìƒíƒœ:", _exhaustiveCheck);
      return null;
  }
}
```
