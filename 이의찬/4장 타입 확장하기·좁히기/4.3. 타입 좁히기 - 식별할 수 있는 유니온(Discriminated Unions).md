## 3. íƒ€ì… ì¢íˆê¸° - ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨(Discriminated Unions)

### ì—ëŸ¬ ì •ì˜í•˜ê¸°

```tsx
/* ì—ëŸ¬ íƒ€ì… */
type TextError = {
	errorCodeï¼š string;
	errorMessageï¼š string;
}ï¼›
type ToastError = {
	errorCodeï¼š string;
	errorMessageï¼š string;
	toastShowDurationï¼š number; // í† ìŠ¤íŠ¸ë¥¼ ë„ì›Œì¤„ ì‹œê°„
}
type AlertError = {
	errorCodeï¼š string;
	errorMessageï¼š string;
	onConfirmï¼š () => void; // ì–¼ëŸ¿ ì°½ì˜ í™•ì¸ ë²„íŠ¼ì„ ëˆ„ë¥¸ ë’¤ ì•¡ì…˜
}ï¼›

/* ìœ„ ì—ëŸ¬ íƒ€ì…ì˜ ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ì›ì†Œë¡œ í•˜ëŠ” ë°°ì—´ */
type ErrorFeedbackType = TextError | ToastError | AlertError;
const errorArrï¼š ErrorFeedbackType[] = [
	{ errorCodeï¼š "100", errorMessageï¼š "í…ìŠ¤íŠ¸ ì—ëŸ¬" },
	{ errorCodeï¼š "200", errorMessageï¼š "í† ìŠ¤íŠ¸ ì—ëŸ¬", toastShowDurationï¼š 3000 },
	{ errorCodeï¼š "300", errorMessageï¼š "ì–¼ëŸ¿ ì—ëŸ¬", onConfirmï¼š () => {} },
]ï¼›
```

ì´ì œ ë‹¤ì–‘í•œ ì—ëŸ¬ ê°ì²´ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ì´ ë•Œ ë°°ì—´ì— ì—ëŸ¬ íƒ€ì…ë³„ë¡œ ì •ì˜í•œ í•„ë“œë¥¼ ê°€ì§€ëŠ” ì—ëŸ¬ ê°ì²´ê°€ í¬í•¨ë˜ê¸¸ ì›í•œë‹¤ê³  í•´ë³´ì.

ê·¸ëŸ¬ë©´ ë‹¤ìŒ ê°ì²´ì²˜ëŸ¼ ToastErrorì˜ toastShowDuration í•„ë“œì™€ AlertErrorì˜ onConfirm í•„ë“œë¥¼ ëª¨ë‘ ê°€ì§€ë©´ ì—ëŸ¬ë¥¼ ë±‰ì–´ì•¼ í•œë‹¤.

```tsx
const errorArr: ErrorFeedbackType[] = [
	// ...
	{
		errorCodeï¼š "999",
		errorMessageï¼š "ì˜ëª»ëœ ì—ëŸ¬",
		toastShowDurationï¼š 3000,
		onConfirmï¼š () => {},
	}, // expected error
]ï¼›
```

í•˜ì§€ë§Œ ìš°ë¦¬ì˜ JsëŠ” ë• íƒ€ì´í•‘ ì–¸ì–´ì´ê¸° ë•Œë¬¸ì— íƒ€ì… ì—ëŸ¬ë¥¼ ë±‰ì§€ ì•ŠëŠ”ë‹¤. ã…‹ã…‹

### ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨

ë”°ë¼ì„œ ì—ëŸ¬ íƒ€ì… êµ¬ë¶„ì´ í•„ìš”í•˜ë‹¤. ë¹„ìŠ·í•œ êµ¬ì¡°ë¥¼ ê°€ì§€ë”ë¼ë„ ì„œë¡œ í˜¸í™˜ë˜ì§€ ì•Šë„ë¡..

ì´ ë•Œ ì ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ íƒ€ì… ê°„ì˜ êµ¬ì¡° í˜¸í™˜ì„ ë§‰ê¸° ìœ„í•´ íƒ€ì…ë§ˆë‹¤ íŒë³„ìë¥¼ ë‹¬ì•„ì¤˜ì„œ êµ¬ë¶„í•˜ëŠ” ê²ƒì´ë‹¤.

1. ê°œë³„ íƒ€ì…ì— ì‹ë³„ ê°€ëŠ¥í•œ íŒë³„ìë¥¼ ë„£ëŠ”ë‹¤.
2. ìœ ë‹ˆì˜¨ìœ¼ë¡œ ê°œë³„ íƒ€ì…ì„ ë¬¶ëŠ”ë‹¤.
3. íŒë³„ìë¥¼ í™œìš©í•˜ì—¬ íƒ€ì…ì„ ì¢í˜€ ì‚¬ìš©í•œë‹¤.

```tsx
// 1ï¸âƒ£ ê°œë³„ ì—ëŸ¬ íƒ€ì… ì •ì˜
interface NetworkError {
  code: 100; // ì‹ë³„ì
  message: string;
  status: number;
}

interface ValidationError {
  code: 200; // ì‹ë³„ì
  message: string;
  field: string;
}

interface AuthError {
  code: 300; // ì‹ë³„ì
  message: string;
  expired: boolean;
}

// 2ï¸âƒ£ ìœ ë‹ˆì˜¨ìœ¼ë¡œ ë¬¶ê¸°
type AppError = NetworkError | ValidationError | AuthError;

// 3ï¸âƒ£ íŒë³„ì(code)ë¥¼ ì´ìš©í•œ íƒ€ì… ì¢íˆê¸°
function handleError(error: AppError) {
  switch (error.code) {
    case 100:
      console.log(
        `ğŸŒ [NetworkError] ${error.message} (status: ${error.status})`
      );
      break;

    case 200:
      console.log(
        `âš ï¸ [ValidationError] ${error.field} í•„ë“œ ì˜¤ë¥˜ - ${error.message}`
      );
      break;

    case 300:
      console.log(
        error.expired
          ? `ğŸ”’ [AuthError] ì„¸ì…˜ ë§Œë£Œ`
          : `ğŸš« [AuthError] ì¸ì¦ ì‹¤íŒ¨ - ${error.message}`
      );
      break;
  }
}

// 4ï¸âƒ£ ì‚¬ìš© ì˜ˆì‹œ
handleError({ code: 100, message: "ì„œë²„ ì—°ê²° ì‹¤íŒ¨", status: 500 });
handleError({ code: 200, message: "ì´ë©”ì¼ í˜•ì‹ì´ ì˜ëª»ë¨", field: "email" });
handleError({ code: 300, message: "í† í° ë§Œë£Œ", expired: true });

```